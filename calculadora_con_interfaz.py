# -*- coding: utf-8 -*-
"""Calculadora con interfaz

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1JndPOZS0ygl-OppC53QZNBzpV9cjmMom
"""

def solicitar_numero(mensaje):
    """Solicita un nÃºmero al usuario y verifica que sea vÃ¡lido."""
    while True:
        try:
            return float(input(mensaje))  # Convierte la entrada en nÃºmero decimal
        except ValueError:
            print("âŒ Error: Ingresa un nÃºmero vÃ¡lido.")


def solicitar_operacion():
    """Solicita una operaciÃ³n matemÃ¡tica vÃ¡lida."""
    operaciones_validas = {"+", "-", "*", "/"}
    while True:
        operacion = input("â•â–âœ–ï¸â— Ingresa la operaciÃ³n matemÃ¡tica (+, -, *, /) o '=' para calcular: ").strip()
        if operacion in operaciones_validas or operacion == "=":
            return operacion
        else:
            print("âŒ Error: OperaciÃ³n invÃ¡lida. Ingresa +, -, * o /")


def calcular(num1, operacion, num2):
    """Realiza la operaciÃ³n matemÃ¡tica y devuelve el resultado."""
    try:
        if operacion == "+":
            return num1 + num2
        elif operacion == "-":
            return num1 - num2
        elif operacion == "*":
            return num1 * num2
        elif operacion == "/":
            if num2 == 0:
                return "âŒ Error: No se puede dividir por cero."
            return num1 / num2
    except Exception as e:
        return f"âŒ Error: {e}"


while True:  # ğŸŸ¢ Inicia el programa principal
    print("\nğŸ§® Bienvenido a la calculadora\n")


    while True:  # ğŸ“Œ Paso 1: Pedir el primer nÃºmero
        num1 = solicitar_numero("ğŸ”¢ Ingresa el primer nÃºmero: ")

    # ğŸ”„ Paso 2 y 3: Elegir operaciÃ³n y segundo nÃºmero hasta que se elija "="
        operacion = solicitar_operacion()
        if operacion == "=":
            print("âš ï¸ Debes ingresar al menos una operaciÃ³n antes de calcular.")
            continue  # Pide una operaciÃ³n vÃ¡lida antes de calcular

        num2 = solicitar_numero("ğŸ”¢ Ingresa el segundo nÃºmero: ")
        resultado = calcular(num1, operacion, num2)
        print(f"âœ… Resultado: {num1} {operacion} {num2} = {resultado}")

        # Actualiza num1 para la prÃ³xima operaciÃ³n en cadena
        num1 = resultado

        # Preguntar si desea continuar o calcular
        continuar = input("ğŸŸ¢ Â¿Quieres seguir operando? (y/n): ").strip().lower()
        if continuar != "y":
            print("ğŸ‘‹ Â¡Gracias por usar la calculadora!")
            exit()